-------------------------------------------------------------
 Bootstrap
-------------------------------------------------------------
starting 1... ok
starting 2... ok
starting 3... ok
waiting server to be ready...  1   2   3  ok
-------------------------------------------------------------
 Modifications on clusters
-------------------------------------------------------------
box.space.test:insert{'key_1', 0}
---
- ['key_1', 0]
...
box.space.test:insert{'key_2', 0}
---
- ['key_2', 0]
...
box.space.test:insert{'key_3', 0}
---
- ['key_3', 0]
...
box.space.test:select{}
---
- - ['key_1', 0]
  - ['key_2', 0]
  - ['key_3', 0]
...
box.space.test:select{}
---
- - ['key_1', 0]
  - ['key_2', 0]
  - ['key_3', 0]
...
box.space.test:select{}
---
- - ['key_1', 0]
  - ['key_2', 0]
  - ['key_3', 0]
...
box.space.test:replace{'key_1', 1}
---
- ['key_1', 1]
...
box.space.test:replace{'key_2', 1}
---
- ['key_2', 1]
...
box.space.test:replace{'key_3', 1}
---
- ['key_3', 1]
...
box.space.test:select{}
---
- - ['key_1', 1]
  - ['key_2', 1]
  - ['key_3', 1]
...
box.space.test:select{}
---
- - ['key_1', 1]
  - ['key_2', 1]
  - ['key_3', 1]
...
box.space.test:select{}
---
- - ['key_1', 1]
  - ['key_2', 1]
  - ['key_3', 1]
...
box.space.test:update('key_1', {{ '+', 2, 1 }})
---
- ['key_1', 2]
...
box.space.test:update('key_2', {{ '+', 2, 1 }})
---
- ['key_2', 2]
...
box.space.test:update('key_3', {{ '+', 2, 1 }})
---
- ['key_3', 2]
...
box.space.test:select{}
---
- - ['key_1', 2]
  - ['key_2', 2]
  - ['key_3', 2]
...
box.space.test:select{}
---
- - ['key_1', 2]
  - ['key_2', 2]
  - ['key_3', 2]
...
box.space.test:select{}
---
- - ['key_1', 2]
  - ['key_2', 2]
  - ['key_3', 2]
...
box.space.test:delete{'key_1'}
---
- ['key_1', 2]
...
box.space.test:delete{'key_2'}
---
- ['key_2', 2]
...
box.space.test:delete{'key_3'}
---
- ['key_3', 2]
...
box.space.test:select{}
---
- []
...
box.space.test:select{}
---
- []
...
box.space.test:select{}
---
- []
...
-------------------------------------------------------------
 Kill slave
-------------------------------------------------------------
box.space.test:upsert('cnt', {{'+', 2, 1}}, {'cnt', 1})
---
...
box.space.test:get('cnt')
---
- ['cnt', 1]
...
box.space.test:upsert('cnt', {{'+', 2, 1}}, {'cnt', 1})
---
...
box.space.test:get('cnt')
---
- ['cnt', 2]
...
box.space.test:upsert('cnt', {{'+', 2, 1}}, {'cnt', 1})
---
...
box.space.test:get('cnt')
---
- ['cnt', 3]
...
box.space.test:get('cnt')
---
- ['cnt', 3]
...
box.space.test:get('cnt')
---
- ['cnt', 3]
...
-------------------------------------------------------------
 Kill master
-------------------------------------------------------------
killed leader
waiting server to be ready...  1   2  ok
new leader elected
waiting server to be ready...  1   2   3  ok
a former leader did not cause re-election after restore
stopping 1... ok
stopping 2... ok
stopping 3... ok
